
<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Bootstrap CSS CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <title>PetShop Amigo Animal</title>
</head>
<body>

<!-- agendamento.html - Agendamento de serviços com escolha de tele-busca/entrega e validação JS -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="container-fluid">
    <a class="navbar-brand" href="index.html">PetShop Amigo Animal</a>
    <div class="collapse navbar-collapse" id="navmenu5">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="index.html">Início</a></li>
        <li class="nav-item"><a class="nav-link" href="produtos.html">Produtos</a></li>
        <li class="nav-item"><a class="nav-link" href="servicos.html">Serviços</a></li>
        <li class="nav-item"><a class="nav-link" href="cadastro.html">Cadastro</a></li>
        <li class="nav-item"><a class="nav-link active" href="agendamento.html">Agendamento</a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="container my-4">
  <h2>Agendamento</h2>
  <form id="agendaForm" novalidate>
    <div class="mb-3">
      <label for="clienteSelect" class="form-label">Nome do Cliente *</label>
      <input type="text" id="clienteSelect" class="form-control" placeholder="Seu nome" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Serviço *</label><br>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="servico" id="banho" value="Banho" required>
        <label class="form-check-label" for="banho">Banho</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="servico" id="tosa" value="Tosa" required>
        <label class="form-check-label" for="tosa">Tosa</label>
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Método de atendimento *</label><br>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="metodo" id="telebusca" value="Tele-busca" required>
        <label class="form-check-label" for="telebusca">Tele-busca</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="metodo" id="local" value="Entrega no local" required>
        <label class="form-check-label" for="local">Entrega no local</label>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6">
        <label for="data" class="form-label">Data *</label>
        <input type="date" id="data" class="form-control" required>
      </div>
      <div class="col-md-6">
        <label for="hora" class="form-label">Hora *</label>
        <input type="time" id="hora" class="form-control" required>
      </div>
    </div>

    <button type="submit" class="btn btn-primary">Agendar</button>
    <button type="reset" class="btn btn-secondary">Limpar</button>
  </form>

  <div id="agendaMsg" class="mt-3" role="status" aria-live="polite"></div>
</div>

<script>
// Script para validar que data/hora escolhida seja futura e mostrar confirmação
document.getElementById('agendaForm').addEventListener('submit', function(event) {
  event.preventDefault();
  const cliente = document.getElementById('clienteSelect').value.trim();
  const servico = document.querySelector('input[name="servico"]:checked');
  const metodo = document.querySelector('input[name="metodo"]:checked');
  const data = document.getElementById('data').value;
  const hora = document.getElementById('hora').value;
  const agendaMsg = document.getElementById('agendaMsg');

  if (!cliente || !servico || !metodo || !data || !hora) {
    agendaMsg.innerHTML = '<div class="alert alert-danger">Preencha todos os campos obrigatórios.</div>';
    return;
  }

  // Constrói objeto Date da data e hora escolhidas
  const agendamento = new Date(data + 'T' + hora);
  const agora = new Date();

  if (agendamento <= agora) {
    agendaMsg.innerHTML = '<div class="alert alert-danger">Escolha uma data e hora futuras.</div>';
    return;
  }

  // Se OK, mostra resumo do agendamento
  agendaMsg.innerHTML = `
    <div class="alert alert-success">
      Agendamento confirmado!<br>
      Cliente: ${cliente}<br>
      Serviço: ${servico.value} - Método: ${metodo.value}<br>
      Data/Hora: ${data} ${hora}
    </div>
  `;

  // Comentário: aqui iríamos enviar os dados para o servidor ou salvar no localStorage
});
</script>

<!-- Bootstrap JS Bundle (includes Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
